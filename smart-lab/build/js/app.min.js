function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(n[0].trim()),o.breakpoint=n[1]?n[1].trim():"767",o.place=n[2]?n[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],o=String.prototype.split.call(n,","),l=window.matchMedia(o[0]),r=o[1],i=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===r}));l.addListener((function(){e.mediaHandler(l,i)})),this.mediaHandler(l,i)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},DynamicAdapt.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?document.body.classList.add("_touch"):document.body.classList.remove("_touch");const bodyGlobal=document.querySelector("body"),scrollWidth=window.innerWidth-document.documentElement.clientWidth;function blockOverflow(){bodyGlobal.style.overflow="hidden",bodyGlobal.style.touchAction="none",isMobile.any()||(bodyGlobal.style.paddingRight=scrollWidth+"px")}function unBlockOverflow(){setTimeout((()=>{bodyGlobal.style.overflow="",bodyGlobal.style.touchAction="",bodyGlobal.style.paddingRight=""}),400)}function toggleOverflow(){"hidden"!=window.getComputedStyle(bodyGlobal).overflow?blockOverflow():unBlockOverflow()}function initSpollers(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach((e=>{let t=!0;const n=e.dataset.spollerMaxwidth,o=e.classList.contains("_one");let l=e.querySelectorAll("._spoller");l.length&&l.forEach(((e,l,r)=>{e.addEventListener("click",(function(){if(t){if(t=!1,n&&window.innerWidth>n)return!1;o&&r.forEach((t=>{t!=e&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,400))})),e.classList.toggle("_active"),_slideToggle(e.nextElementSibling,400),setTimeout((function(){t=!0}),400)}}))}))}))}function clearSpollersStyle(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach((e=>{const t=e.dataset.spollerMaxwidth;if(t&&window.innerWidth>t){let t=e.querySelectorAll("._spoller");t.length&&t.forEach((e=>{e.classList.remove("_active"),e.nextElementSibling.style.display=""}))}}))}initSpollers(),window.addEventListener("resize",clearSpollersStyle);let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function plugSimpleBar(e){let t;if("string"==typeof e)t=document.querySelector(e);else{if("object"!=typeof e)return;t=e}if(t)try{return new SimpleBar(t)}catch{t.style.ovetflowY="auto"}}function closeAllOpenedMenu(){document.querySelectorAll("._open").forEach((e=>e.classList.remove("_open")))}document.documentElement.addEventListener("click",(e=>{e.target.closest("._open")||(closeAllOpenedMenu(),unBlockOverflow())}));let activeHeadersEls=document.querySelectorAll("._active-el");activeHeadersEls.forEach((e=>{e.addEventListener("click",(()=>{e.parentElement.classList.contains("_open")||closeAllOpenedMenu(),e.parentElement.classList.toggle("_open")}))}));let inputArr=document.querySelectorAll("._input");function numOnly(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||13==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}inputArr.length&&inputArr.forEach((e=>{e.addEventListener("focus",(()=>{e.parentElement.classList.add("_focus")})),e.addEventListener("blur",(()=>{e.parentElement.classList.remove("_focus")})),e.addEventListener("change",(()=>{e.value?e.parentElement.classList.add("_filled"):e.parentElement.classList.remove("_filled")}))}));const popUpMenu=document.querySelectorAll(".context-menu");if(popUpMenu.length){function popUpMenuCorrectPos(e){const t=e.querySelector("ul");let n=e.getBoundingClientRect().left,o=e.getBoundingClientRect().right,l=t.getBoundingClientRect().left-5,r=document.documentElement.clientWidth-t.getBoundingClientRect().right-5;l<0&&(document.documentElement.clientWidth-n-5>=t.offsetWidth?t.style.left="0":t.style.right=l+"px"),r<0&&(o-5>=t.offsetWidth?t.style.right="0":t.style.left=r+"px")}function popUpMenuCleartPos(e){const t=e.querySelector("ul");t.style.left=t.style.right=""}popUpMenu.forEach((e=>{const t=e.querySelector("button, a");t&&t.addEventListener("click",(()=>{e.classList.contains("_open")?popUpMenuCleartPos(e):(closeAllOpenedMenu(),popUpMenuCorrectPos(e)),e.classList.toggle("_open")}))})),document.documentElement.addEventListener("click",(e=>{if(!e.target.closest(".context-menu > button")){const e=document.querySelector(".context-menu._open");e&&e.classList.remove("_open")}})),window.addEventListener("resize",(()=>{popUpMenu.forEach((e=>{popUpMenuCleartPos(e),popUpMenuCorrectPos(e)}))}))}let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-bild")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let n=t.innerHTML,o=document.createElement("div");if(o.classList.add("swiper-wrapper"),o.innerHTML=n,t.innerHTML="",t.appendChild(o),t.classList.add("swiper-bild"),t.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),t.appendChild(e)}}t.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}let selectorLinksSlider,sliderScrollItems=document.querySelectorAll("._swiper_scroll");if(sliderScrollItems.length>0)for(let e=0;e<sliderScrollItems.length;e++){const t=sliderScrollItems[e],n=t.querySelector(".swiper-scrollbar");new Swiper(t,{direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:n,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}const selectorLinks=document.querySelector(".selector-links__list");let navbarBCSlider;selectorLinks&&(selectorLinks.parentElement.classList.remove("_loading"),selectorLinksSlider=new Swiper(selectorLinks,{slidesPerView:"auto",watchOverflow:!0,freeMode:{enabled:!0,sticky:!0},speed:300,navigation:{nextEl:".selector-links__next",prevEl:".selector-links__prev"}}));const navbarBC=document.querySelector(".navbar__list");navbarBC&&(navbarBC.parentElement.classList.remove("_loading"),navbarBCSlider=new Swiper(navbarBC,{slidesPerView:"auto",watchOverflow:!0,freeMode:{enabled:!0,sticky:!0},speed:300,navigation:{nextEl:".navbar__next",prevEl:".navbar__prev"}})),window.addEventListener("resize",(()=>{selectorLinksSlider&&selectorLinksSlider.updateSize()}));let mainHeader=document.querySelector("header.header"),headerMenuBody=document.querySelector(".header .menu__body"),mainMenuSimpleBar=plugSimpleBar(".header .menu__body");mainMenuSimpleBar.recalculate(),window.addEventListener("resize",(()=>{mainMenuSimpleBar&&mainMenuSimpleBar.recalculate()}));const mainMenuBtn=document.getElementById("main-menu-btn");mainMenuBtn&&mainMenuBtn.addEventListener("click",(e=>{e.target.closest("._open")?blockOverflow():unBlockOverflow()}));let alphabet=document.querySelector(".alphabet"),searchInput=document.querySelector(".query-search__input");searchInput&&(searchInput.addEventListener("focus",(()=>{searchInput.classList.add("_focus"),searchInput.parentElement.classList.add("_focus"),alphabet.classList.add("_show")})),searchInput.addEventListener("blur",(()=>{const e=searchInput.parentElement;setTimeout((()=>{alphabet.classList.remove("_show"),searchInput.classList.remove("_focus"),e.classList.remove("_focus"),searchInput.value=""}),200)})));let searchIcon=document.querySelector(".query-search__icon");searchIcon.addEventListener("click",(()=>{searchInput.focus()}));let arrowInputBtn=document.querySelector(".query-search__input-arrow");arrowInputBtn.addEventListener("click",(()=>{setTimeout((()=>{searchInput.focus()}),210)}),!1);let notifySimpleBar=plugSimpleBar("#notify-body");new jBox("Tooltip",{attach:".navbar__drop-item",zIndex:999,adjustPosition:!0,isolateScroll:!1,closeOnMouseleave:!0,animation:"move",addClass:"navbar-jBox",onOpen:function(){let e=this.target[0].nextElementSibling.innerHTML;this.setContent(e)}}),plugSimpleBar(".qn-filters__content");const qnMenuMobTabs=document.querySelectorAll(".qn-menu__mob-tabs a");qnMenuMobTabs.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))}));const qnMenuBtnFilter=document.querySelector(".qn-menu__btn--filter"),qnFilters=document.querySelector(".qn-filters"),qnFiltersClose=document.querySelector(".qn-filters__close");if(qnMenuBtnFilter&&qnFilters&&qnFiltersClose&&(qnMenuBtnFilter.addEventListener("click",(()=>{qnMenuBtnFilter.parentElement.classList.contains("_open")?blockOverflow():unBlockOverflow()})),qnFilters.addEventListener("click",(e=>{e.target.closest(".qn-filters__content")&&!e.target.closest(".qn-filters__close")||(qnFilters.closest("._open").classList.remove("_open"),unBlockOverflow())}))),qnFilters){const e=document.querySelector(".qn-filters__content"),t=qnFilters.querySelectorAll("input");let n=new Event("change");e&&e.addEventListener("reset",(e=>{t.forEach((e=>{setTimeout((()=>{e.dispatchEvent(n),clearSumoContents()}),50)}))}))}$("#sector_id").length&&$("#sector_id").SumoSelect({placeholder:"Все сектора",csvDispCount:2,captionFormat:"Сектора ({0})"});var sumoSelects=$("#country_id, #val_middle_gt, #val_middle_lt, #capitalization_gt, #capitalization_lt, #is_state_owned, #is_exporter, #year, #type, #quarter, #duration_lt_id, #duration_gt_id, #mat_years_lt_id, #mat_years_gt_id, #year_yield_lt_id, #year_yield_gt_id, #ofz_type_id");function plugSimpleBarSumoSelect(){let e=document.querySelectorAll(".optWrapper");e.length&&e.forEach((e=>{plugSimpleBar(e)}))}function clearSumoContents(){$.each(sumoSelects,(function(){this.sumo.unSelectAll(),this.sumo.selectItem(0)})),$("#sector_id")[0].sumo.unSelectAll()}let filterDatepicker;sumoSelects.length&&sumoSelects.SumoSelect(),plugSimpleBarSumoSelect(),Datepicker.locales.ru={days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Сре","Чтв","Птн","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Today",clear:"Очистить",titleFormat:"MM y",format:"dd.mm.yyyy",weekStart:1};let filterDateRargeElm=document.querySelector(".qn-filters__date-input");if(filterDateRargeElm){const e='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 6L2.29289 5.29289L1.58579 6L2.29289 6.70711L3 6ZM8.70711 10.2929L3.70711 5.29289L2.29289 6.70711L7.29289 11.7071L8.70711 10.2929ZM3.70711 6.70711L8.70711 1.7071L7.29289 0.292891L2.29289 5.29289L3.70711 6.70711Z"/></svg>';filterDatepicker=new Datepicker(filterDateRargeElm,{autohide:!0,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],nextArrow:e,prevArrow:e,todayBtnMode:1,clearBtn:!0,format:"dd.mm.yyyy",container:".qn-filters__datepicker",language:"ru"})}let qnFiltersRangeSliderObjs=[];const qnFiltersRangeSliderEls=document.querySelectorAll(".qn-filters__range-slider");function plugNoUiSlider(e){if(!(e&&e.target&&e.settings&&e.wNumbFormat))return void console.log("Плагин NoUiSlider не може быть подключен. function plugNoUiSlider(obj)");let t;if("string"==typeof e.target)t=document.querySelector(e.target);else{if("object"!=typeof e.target)return void console.log("Плагин NoUiSlider не може быть подключен. Не определен целевой объект");t=e.target}if(t){const l=t.parentElement.querySelectorAll("input");function n(){let t=Number(e.wNumbFormat.from(this.value));this.value=e.wNumbFormat.to(t)}function o(){let e=[];l.forEach((t=>e.push(t.value))),t.noUiSlider.set(e)}slider=noUiSlider.create(t,{...e.settings,format:e.wNumbFormat}),l&&(slider.on("slide",(e=>{l.forEach(((t,n)=>{t.value=e[n]}))})),l.forEach((e=>{e.addEventListener("keydown",numOnly),e.addEventListener("blur",n),e.addEventListener("focus",(e=>{e.target.select()})),e.addEventListener("change",o),e.focus(),e.blur()})))}}qnFiltersRangeSliderEls.forEach((e=>{qnFiltersRangeSliderObjs.push({target:e,settings:{start:[1,1e3],margin:10,connect:!0,range:{min:[0],max:[1e3]}},wNumbFormat:wNumb({decimals:0,thousand:"",suffix:"М ₽"})})})),qnFiltersRangeSliderObjs.forEach((e=>plugNoUiSlider(e))),setTimeout((()=>{new FlexTable(".trades-table")}),300),function(){const e=document.querySelector(".header"),t=e.getBoundingClientRect().height,n=document.querySelectorAll("._slide-sidebar-padding");function o(n){n.forEach((n=>{n.slidePos=window.getComputedStyle(n).position,"fixed"!=n.slidePos?(n.style.paddingTop="0px",n.classList.remove("_open"),unBlockOverflow()):(delta=e.getBoundingClientRect().top+t,n.style.paddingTop=delta>=0?delta+"px":"0px")}))}e&&n.length&&(n.forEach((function(n){n.slidePos=window.getComputedStyle(n).position;const o=e.getBoundingClientRect().top+t;"fixed"==n.slidePos&&(n.style.paddingTop=o>=0?o+"px":"0px")})),window.addEventListener("scroll",(function(){n.forEach((n=>{if("fixed"==n.slidePos){const o=e.getBoundingClientRect().top+t;n.style.paddingTop=o>=0?o+"px":"0px"}}))})),window.addEventListener("resize",(()=>{o(n)})),window.addEventListener("orientationchange",(()=>{o(n)})))}(),function(){plugSimpleBar(".company-bar__body");const e=document.querySelector(".company-bar"),t=document.querySelector(".company-bar__btn");e&&t&&(t.addEventListener("click",(()=>{"hidden"!=window.getComputedStyle(bodyGlobal).overflow?blockOverflow():unBlockOverflow()})),new jBox("Tooltip",{attach:"#moderators>li>a, #readers>li>a",content:$("#profile-popup"),zIndex:999,adjustPosition:!0,isolateScroll:!1,closeOnMouseleave:!0,animation:"move",addClass:"company-bar-jBox",onClose:function(){this.container.find(".context-menu").removeClass("_open")}}))}(),function(){setTimeout((()=>{plugSimpleBar(".new-msgs-box__content")}),2e3);document.querySelector(".new-msgs-box__btn").addEventListener("click",(()=>{"hidden"!=window.getComputedStyle(bodyGlobal).overflow?blockOverflow():unBlockOverflow()}))}(),function(){let e=document.querySelectorAll(".comment__text");e.length&&e.forEach((e=>{let t=e.querySelector("blockquote");t&&t.addEventListener("click",(()=>{e.classList.toggle("_open")}))}));let t=document.querySelectorAll(".comment__favorite");t.length&&t.forEach((e=>{e.addEventListener("click",(function(){this.classList.toggle("_active")}))}))}();