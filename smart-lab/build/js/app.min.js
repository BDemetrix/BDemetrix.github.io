function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),r={};r.element=t,r.parent=t.parentNode,r.destination=document.querySelector(n[0].trim()),r.breakpoint=n[1]?n[1].trim():"767",r.place=n[2]?n[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.оbjects.push(r)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],r=String.prototype.split.call(n,","),o=window.matchMedia(r[0]),l=r[1],i=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===l}));o.addListener((function(){e.mediaHandler(o,i)})),this.mediaHandler(o,i)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},DynamicAdapt.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?document.body.classList.add("_touch"):document.body.classList.remove("_touch");const bodyGlobal=document.querySelector("body"),scrollWidth=window.innerWidth-document.documentElement.clientWidth;function blockOverflow(){bodyGlobal.style.overflow="hidden",bodyGlobal.style.touchAction="none",bodyGlobal.style.paddingRight=scrollWidth+"px"}function unBlockOverflow(){setTimeout(()=>{bodyGlobal.style.overflow="",bodyGlobal.style.touchAction="",bodyGlobal.style.paddingRight=""},400)}function initSpollers(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach(e=>{let t=!0;const n=e.dataset.spollerMaxwidth,r=e.classList.contains("_one");let o=e.querySelectorAll("._spoller");o.length&&o.forEach((e,o,l)=>{e.addEventListener("click",(function(){if(t){if(t=!1,n&&window.innerWidth>n)return!1;r&&l.forEach(t=>{t!=e&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,400))}),e.classList.toggle("_active"),_slideToggle(e.nextElementSibling,400),setTimeout((function(){t=!0}),400)}}))})})}function clearSpollersStyle(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach(e=>{const t=e.dataset.spollerMaxwidth;if(t&&window.innerWidth>t){let t=e.querySelectorAll("._spoller");t.length&&t.forEach(e=>{e.classList.remove("_active"),e.nextElementSibling.style.display=""})}})}initSpollers(),window.addEventListener("resize",clearSpollersStyle);let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function plugSimpleBar(e){let t;if("string"==typeof e)t=document.querySelector(e);else{if("object"!=typeof e)return;t=e}if(t)try{return new SimpleBar(t)}catch{t.style.ovetflowY="auto"}}function closeAllOpenedMenu(){document.querySelectorAll("._open").forEach(e=>e.classList.remove("_open")),unBlockOverflow()}document.documentElement.addEventListener("click",e=>{e.target.closest("._open")||e.target.closest("._active-el")||closeAllOpenedMenu()});let inputArr=document.querySelectorAll("._input");function numOnly(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||13==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}inputArr.length&&inputArr.forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.classList.add("_focus")}),e.addEventListener("blur",()=>{e.parentElement.classList.remove("_focus")}),e.addEventListener("change",()=>{e.value?e.parentElement.classList.add("_filled"):e.parentElement.classList.remove("_filled")})});let mainHeader=document.querySelector("header.header"),headerMenuBody=document.querySelector(".header .menu__body");function setheaderMenuBodyHeight(){let e=mainHeader.offsetHeight,t=document.documentElement.clientHeight-e;headerMenuBody.style.height=t+"px"}let mainMenuSimpleBar=plugSimpleBar(".header .menu__body");setheaderMenuBodyHeight(),mainMenuSimpleBar.recalculate(),window.addEventListener("resize",()=>{setheaderMenuBodyHeight(),mainMenuSimpleBar&&mainMenuSimpleBar.recalculate()});let activeHeadersEls=document.querySelectorAll(".header ._active-el");activeHeadersEls.forEach(e=>{e.addEventListener("click",()=>{e.parentElement.classList.contains("_open")||closeAllOpenedMenu(),e.parentElement.classList.toggle("_open")})});const mainMenuBtn=document.getElementById("main-menu-btn");mainMenuBtn&&mainMenuBtn.addEventListener("click",e=>{e.target.closest("._open")?blockOverflow():unBlockOverflow()});let alphabet=document.querySelector(".alphabet"),searchInput=document.querySelector(".query-search__input");searchInput&&(searchInput.addEventListener("focus",()=>{searchInput.classList.add("_focus"),searchInput.parentElement.classList.add("_focus"),alphabet.classList.add("_show")}),searchInput.addEventListener("blur",()=>{const e=searchInput.parentElement;setTimeout(()=>{alphabet.classList.remove("_show"),searchInput.classList.remove("_focus"),e.classList.remove("_focus"),searchInput.value=""},200)}));let searchIcon=document.querySelector(".query-search__icon");searchIcon.addEventListener("click",()=>{searchInput.focus()});let arrowInputBtn=document.querySelector(".query-search__input-arrow");arrowInputBtn.addEventListener("click",()=>{setTimeout(()=>{searchInput.focus()},210)},!1);let response=[{data:"https://smart-lab.ru/forum/%D0%90%D0%9E%20%C2%AB%D0%90%D1%82%D0%BE%D0%BC%D0%BD%D1%8B%D0%B9%20%D1%8D%D0%BD%D0%B5%D1%80%D0%B3%D0%BE%D0%BF%D1%80%D0%BE%D0%BC%D1%8B%D1%88%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%BB%D0%B5%D0%BA%D1%81%C2%BB%20%28%D0%90%D1%82%D0%BE%D0%BC%D1%8D%D0%BD%D0%B5%D1%80%D0%B3%D0%BE%D0%BF%D1%80%D0%BE%D0%BC%29",value:"АО «Атомный энергопромышленный комплекс» (Атомэнергопром)",hilite:!0},{data:"https://smart-lab.ru/bonds/Shevchenko",value:"АО Им. Т.Г. Шевченко [обл]"},{data:"https://smart-lab.ru/bonds/maximatelecom",value:'АО "МаксимаТелеком" [обл]'},{data:"https://smart-lab.ru/bonds/AO_Trud",value:"АО Труд [обл]"},{data:"https://smart-lab.ru/brokers-rating/%D0%90%D0%9E%20%D0%98%D0%9A%20%22%D0%A4%D0%BE%D0%BD%D0%B4%D0%BE%D0%B2%D1%8B%D0%B9%20%D0%9A%D0%B0%D0%BF%D0%B8%D1%82%D0%B0%D0%BB%22",value:'АО ИК "Фондовый Капитал" [brk]'},{data:"https://smart-lab.ru/bonds/I-TECO",value:"Ай-Теко [обл]"},{data:"https://smart-lab.ru/trading/%D0%90%D0%9E%20%22%D0%97%D0%B0%D0%B2%D0%BE%D0%B4%20%D0%9A%D0%BE%D0%BF%D0%B8%D1%80%22",value:'АО "Завод Копир" [trd]'},{data:"https://smart-lab.ru/bonds/AO-IA-VTB-2014",value:"АО ИА ВТБ 2014 [обл]"},{data:"https://smart-lab.ru/trading/%D0%90%20%D0%BD%D0%B5%20%D0%BF%D0%BE%D0%B4%D1%81%D0%BA%D0%B0%D0%B6%D0%B8%D1%82%D0%B5%2C%20%D0%B5%D1%81%D1%82%D1%8C%20%D0%BB%D0%B8%20%D0%B3%D0%B4%D0%B5-%D0%BD%D0%B8%D0%B1%D1%83%D0%B4%D1%8C%20%D0%B0%D1%80%D1%85%D0%B8%D0%B2%20%D0%BF%D1%80%D0%BE%D1%88%D0%B5%D0%B4%D1%88%D0%B8%D1%85%20%D1%84%D1%8C%D1%8E%D1%87%D0%B5%D1%80%D1%81%D0%BE%D0%B2%20%D0%BD%D0%B0%20%D0%9C%D0%9C%D0%92%D0%91.",value:"А не подскажите, есть ли где-нибудь архив прошедших фьючерсов на ММВБ. [trd]"},{data:"https://smart-lab.ru/crypto/trading%2C%20crypto%20fund%2C%20exchanges%20-%D1%87%D1%83%D0%B6%D0%BE%D0%B5%20%D0%BD%D0%B5%20%D0%BC%D0%BE%D1%91%2C%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B5%D1%81%D0%BD%D0%BE%D0%B5%2C%20%D0%BE%D1%82%20%D0%90.%D0%90%D0%BD%D1%82%D0%BE%D0%BD%D0%BE%D0%B2%D0%B0%2C%20%D0%90.%D0%A0%D0%B0%D0%B4%D1%87%D0%B5%D0%BD%D0%BA%D0%BE%20%D0%B8%20%D0%9C.%D0%96%D1%83%D1%85%D0%BE%D0%B2%D0%B8%D1%86%D0%BA%D0%BE%D0%B3%D0%BE",value:"trading, crypto fund, exchanges -чужое не моё, интересное, от А.Антонова, А.Радченко и М.Жуховицкого [cry]"}];var windowFeatures="menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes,target=_blank";$("[autocompleter]").autocomplete({lookup:response,appendTo:".query-search__suggestions",maxHeight:"auto",onSelect:function(e){window.open(e.data,"WindowName",windowFeatures),this.value=""},beforeRender:function(e,t){$.each(t,(function(t,n){"hilite"in n&&n.hilite&&e.find('.autocomplete-suggestion[data-index="'+t+'"]').addClass("hilite")}))}}),plugSimpleBar(".query-search__suggestions");var nPopup=new jBox("Tooltip",{id:"notifiesPopover",trigger:"click",appendTo:$("#notify-body"),attach:$("#notify-icon"),content:$("#notify-inner"),position:{x:0,y:0},isolateScroll:!1,onOpen:function(){this.wrapper.css({position:"relative",width:"100%"}),this.content.parents("#notify-body").css("overflow","auto"),plugSimpleBar("#notify-body");var e=this.content;e.on("click",".notify__nav-item",(function(){var t=$(this),n=t.attr("tab"),r=e.find(".notify__nav");if(r.length){var o=r.find(".notify__nav-item._active");if(o.attr("tab")===t.attr("tab"))return;o.removeClass("_active").addClass("_empty"),t.addClass("_active"),e.find(".notify__block").removeClass("_active"),e.find('.notify__block[id="'+n+'"]').addClass("_active")}})).on("click",".notify__massage",(function(){var e=$(this).attr("link");e&&(nPopup.close(),document.location.href=e)})).on("click","a",(function(){nPopup.close()}))},onClose:function(){this.content.parents("._open").removeClass("_open"),this.content.find(".notify__nav-item._active").length,this.content.off("click")}});$("body").on("click",(function(e){$(e.target).parents("#notify-icon").length||$(e.target).parents("#notifiesPopover").length||nPopup.isOpen&&nPopup.close()}));const navbarLinks=document.querySelectorAll(".navbar__link"),navbarDropItem=document.querySelectorAll(".navbar__drop-item");navbarDropItem.length&&navbarDropItem.forEach(e=>{e.addEventListener("click",()=>{e.closest(".navbar__item").classList.contains("_open")||closeAllOpenedMenu(),e.closest(".navbar__item").classList.toggle("_open")})}),navbarLinks.length&&navbarLinks.forEach(e=>{e.addEventListener("click",()=>{e.closest(".navbar__item").classList.remove("_open")})}),document.documentElement.addEventListener("click",e=>{e.target.closest("._open")||e.target.closest(".navbar__link")||closeAllOpenedMenu()});const navbarDropMenus=document.querySelectorAll(".navbar__drop-menu");function navbarDropMenusMaxWidt(){navbarDropMenus&&navbarDropMenus.forEach(e=>{dropMenuMaxWidth(e)})}function dropMenuMaxWidth(e){e.getBoundingClientRect().right;let t=e.getBoundingClientRect().left,n=document.documentElement.clientWidth;e.style.maxWidth=n-t-5+"px"}navbarDropMenusMaxWidt(),window.addEventListener("resize",()=>{navbarDropMenusMaxWidt()});let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-bild")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let n=t.innerHTML,r=document.createElement("div");if(r.classList.add("swiper-wrapper"),r.innerHTML=n,t.innerHTML="",t.appendChild(r),t.classList.add("swiper-bild"),t.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),t.appendChild(e)}}t.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}let qnMenuSelectorsSlider,sliderScrollItems=document.querySelectorAll("._swiper_scroll");if(sliderScrollItems.length>0)for(let e=0;e<sliderScrollItems.length;e++){const t=sliderScrollItems[e],n=t.querySelector(".swiper-scrollbar");new Swiper(t,{direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:n,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}const qnMenuSelectors=document.querySelector(".qn-menu__selectors");qnMenuSelectors&&(qnMenuSelectors.classList.remove("_loading"),qnMenuSelectorsSlider=new Swiper(qnMenuSelectors,{slidesPerView:"auto",watchOverflow:!0,speed:400})),window.addEventListener("resize",()=>{qnMenuSelectorsSlider&&qnMenuSelectorsSlider.updateSize()});const qnMenuMobTabs=document.querySelectorAll(".qn-menu__mob-tabs a");qnMenuMobTabs.forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation()})});const qnMenuBtnFilter=document.querySelector(".qn-menu__btn--filter"),qnFilters=document.querySelector(".qn-filters"),qnFiltersClose=document.querySelector(".qn-filters__close");qnMenuBtnFilter&&qnFilters&&qnFiltersClose&&(qnMenuBtnFilter.addEventListener("click",()=>{qnMenuBtnFilter.parentElement.classList.contains("_open")?unBlockOverflow():blockOverflow(),qnMenuBtnFilter.parentElement.classList.toggle("_open")}),qnFilters.addEventListener("click",e=>{e.target.closest(".qn-filters__content")&&!e.target.closest(".qn-filters__close")||(qnFilters.closest("._open").classList.remove("_open"),unBlockOverflow())})),$("#sector_id").length&&$("#sector_id").SumoSelect({placeholder:"Все сектора",csvDispCount:2,captionFormat:"Сектора ({0})"});var f=$("#country_id, #val_middle_gt, #val_middle_lt, #capitalization_gt, #capitalization_lt, #is_state_owned, #is_exporter, #year, #type, #quarter, #duration_lt_id, #duration_gt_id, #mat_years_lt_id, #mat_years_gt_id, #year_yield_lt_id, #year_yield_gt_id, #ofz_type_id");f.length&&f.SumoSelect();let filterDatepicker,optWrapperUls=document.querySelectorAll(".optWrapper ul");optWrapperUls.length&&optWrapperUls.forEach(e=>{plugSimpleBar(e)}),Datepicker.locales.ru={days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Сре","Чтв","Птн","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Today",clear:"Очистить",titleFormat:"MM y",format:"dd.mm.yyyy",weekStart:1};let filterDateRargeElm=document.querySelector(".qn-filters__date-input");if(filterDateRargeElm){const e='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M3 6L2.29289 5.29289L1.58579 6L2.29289 6.70711L3 6ZM8.70711 10.2929L3.70711 5.29289L2.29289 6.70711L7.29289 11.7071L8.70711 10.2929ZM3.70711 6.70711L8.70711 1.7071L7.29289 0.292891L2.29289 5.29289L3.70711 6.70711Z"/></svg>';filterDatepicker=new Datepicker(filterDateRargeElm,{autohide:!0,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],nextArrow:e,prevArrow:e,todayBtnMode:1,clearBtn:!0,format:"dd.mm.yyyy",container:".qn-filters__datepicker",language:"ru"})}let qnFiltersRangeSliderObjs=[];const qnFiltersRangeSliderEls=document.querySelectorAll(".qn-filters__range-slider");function plugNoUiSlider(e){if(!(e&&e.target&&e.settings&&e.wNumbFormat))return void console.log("Плагин NoUiSlider не може быть подключен. function plugNoUiSlider(obj)");let t;if("string"==typeof e.target)t=document.querySelector(e.target);else{if("object"!=typeof e.target)return void console.log("Плагин NoUiSlider не може быть подключен. Не определен целевой объект");t=e.target}if(t){const o=t.parentElement.querySelectorAll("input");function n(){let t=Number(e.wNumbFormat.from(this.value));this.value=e.wNumbFormat.to(t)}function r(){let e=[];o.forEach(t=>e.push(t.value)),console.log(e),t.noUiSlider.set(e)}slider=noUiSlider.create(t,{...e.settings,format:e.wNumbFormat}),o&&(slider.on("slide",e=>{o.forEach((t,n)=>{t.value=e[n]})}),o.forEach(e=>{e.addEventListener("keydown",numOnly),e.addEventListener("blur",n),e.addEventListener("focus",e=>{e.target.select()}),e.addEventListener("change",r),e.focus(),e.blur()}))}}qnFiltersRangeSliderEls.forEach(e=>{qnFiltersRangeSliderObjs.push({target:e,settings:{start:[1,1e3],margin:10,connect:!0,range:{min:[0],max:[1e3]}},wNumbFormat:wNumb({decimals:0,thousand:"",suffix:"М ₽"})})}),qnFiltersRangeSliderObjs.forEach(e=>plugNoUiSlider(e)),setTimeout(()=>{new FlexTable(".trades-table")},500);