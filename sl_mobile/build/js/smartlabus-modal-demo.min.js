var loginPopUp=new ModalDialog({class:"login-popup",title:"Авторизация",content:'<form class="login__form" autocomplete="off" action="/login/" method="POST">\n  \x3c!-- Класс input-wrapper и custom-input - общая для всех страниц стилизация инпутов. Смотри README --\x3e\n  <div class="login__row input-wrapper input-wrapper--left">\n    <input type="text" class="custom-input" placeholder="Логин или Email" />\n    <svg width="20" height="20">\n      <use xlink:href="images/icons/login/sprite.svg#user"></use>\n    </svg>\n  </div>\n  <div class="login__row input-wrapper input-wrapper--left">\n    <input type="password" class="custom-input" placeholder="Пароль" />\n    <svg width="20" height="20">\n      <use xlink:href="images/icons/login/sprite.svg#password"></use>\n    </svg>\n  </div>\n\n  <div class="login__row">\n    <label class="login__remember custom-checkbox">\n      <input type="checkbox" class="custom-checkbox__input" checked="" />\n      <span class="custom-checkbox__text">Запомнить</span>\n    </label>\n    <a href="/login/reminder/" class="login__remind">Напомнить пароль</a>\n  </div>\n  <button class="login__submit blue-btn" type="submit">Войти</button>\n  <div class="login__row">\n    <div class="login__to-registration">\n      Нет аккаунта?\n      <a href="/registration/">Зарегистрироваться</a>\n    </div>\n  </div>\n  <div class="login__row social-login">\n    <div class="social-login__title">Войти через:</div>\n    <div class="social-login__btns">\n      <a href="/" class="social-login__btn social-login__btn--vk">\n        <svg width="26" height="14">\n          <use xlink:href="images/icons/login/sprite.svg#vk"></use>\n        </svg>\n        ВК\n      </a>\n      <a href="/" class="social-login__btn social-login__btn--google">\n        <svg width="31" height="30">\n          <use xlink:href="images/icons/login/sprite.svg#google"></use>\n        </svg>\n      </a>\n    </div>\n  </div>\n</form> ',onConfirm:function(){},onOpen:function(){},onClose:function(){unBlockOverflow()}}),moderationPopUp=new ModalDialog({class:"moderation-pop-up",title:"Модерация",content:'<div class="moderation-pop-up__left-col">\n  <div class="moderation-pop-up__btns">\n    <div class="moderation-pop-up__btns-row">\n      <button\n        class="moderation-pop-up__btn blue-btn blue-btn--not-selected"\n        type="button"\n      >\n        Редактировать\n      </button>\n      <button\n        class="moderation-pop-up__btn blue-btn blue-btn--not-selected"\n        type="button"\n      >\n        Удалить\n      </button>\n    </div>\n    <div class="moderation-pop-up__btns-row">\n      <button class="moderation-pop-up__btn blue-btn" type="button">\n        На главную\n      </button>\n      <button\n        class="moderation-pop-up__btn blue-btn blue-btn--not-selected"\n        type="button"\n      >\n        Убрать с&nbsp;главной\n      </button>\n    </div>\n    <div class="moderation-pop-up__btns-row">\n      <button\n        class="moderation-pop-up__to-smm blue-btn blue-btn--not-selected"\n        type="button"\n      >\n        В SMM\n      </button>\n    </div>\n  </div>\n\n  <div class="moderation-pop-up__spollers _spollers _one">\n    <div class="moderation-pop-up__spollers-inner">\n      <button\n        class="moderation-pop-up__spoller moderation-pop-up__spoller--left blue-btn _spoller"\n        type="button"\n      >\n        Оффтоп\n        <svg width="19" height="18">\n          <use xlink:href="images/icons/post-card/sprite.svg#shevron"></use>\n        </svg>\n      </button>\n      <div class="moderation-pop-up__settings moderation-settings">\n        <div class="moderation-settings__wrap">\n          <div class="moderation-settings__inner">\n            <div class="moderation-settings__row">\n              <label class="moderation-settings__title">Автора:</label>\n\n              \x3c!-- \n                                            Кастомный селект .custom-select\n                                            Атрибут name="#" есть только у главной кнопки, для реализации в рамках формы\n                                            Обработчик в файле custom-select.js\n                                            Стили в custom-select.scss\n                                            Для открытия добавляется модификатор .custom-select--opened\n                                         --\x3e\n              <div class="moderation-settings__col">\n                <div class="custom-select">\n                  <button\n                    class="custom-select__main-btn"\n                    value="Простить"\n                    name="#"\n                    type="button"\n                  >\n                    Простить\n                  </button>\n                  <div class="custom-select__list">\n                    <button\n                      class="custom-select__option custom-select__option--active"\n                      value="Простить"\n                      type="button"\n                    >\n                      Простить\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="Предупредить"\n                      type="button"\n                    >\n                      Предупредить\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="Забанить"\n                      type="button"\n                    >\n                      Забанить\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <label class="moderation-settings__title">Топик:</label>\n              <div class="moderation-settings__col">\n                <div class="custom-select">\n                  <button\n                    class="custom-select__main-btn"\n                    value="В оффтоп"\n                    name="#"\n                    type="button"\n                  >\n                    В оффтоп\n                  </button>\n                  <div class="custom-select__list">\n                    <button\n                      class="custom-select__option custom-select__option--active"\n                      value="В оффтоп"\n                      type="button"\n                    >\n                      В оффтоп\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="Значение 2"\n                      type="button"\n                    >\n                      Значение 2\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="Значение 3"\n                      type="button"\n                    >\n                      Значение 3\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <label class="moderation-settings__title">Причина:</label>\n              <div class="moderation-settings__col">\n                <div class="custom-select">\n                  <button\n                    class="custom-select__main-btn"\n                    value="Хамство"\n                    name="#"\n                    type="button"\n                  >\n                    Хамство\n                  </button>\n                  <div class="custom-select__list">\n                    <button\n                      class="custom-select__option custom-select__option--active"\n                      value="Хамство"\n                      type="button"\n                    >\n                      Хамство\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="Причина 2"\n                      type="button"\n                    >\n                      Причина 2\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="Причина 3"\n                      type="button"\n                    >\n                      Причина 3\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <label class="moderation-settings__title">Бан:</label>\n              <div class="moderation-settings__col">\n                <div class="custom-select">\n                  <button\n                    class="custom-select__main-btn"\n                    value="2 дня"\n                    name="#"\n                    type="button"\n                  >\n                    2 дня\n                  </button>\n                  <div class="custom-select__list">\n                    <button\n                      class="custom-select__option custom-select__option--active"\n                      value="2 дня"\n                      type="button"\n                    >\n                      2 дня\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="неделя"\n                      type="button"\n                    >\n                      неделя\n                    </button>\n                    <button\n                      class="custom-select__option"\n                      value="месяц"\n                      type="button"\n                    >\n                      месяц\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <label class="moderation-settings__title"></label>\n              <div class="moderation-settings__col">\n                <button\n                  class="moderation-pop-up__save-setting blue-btn"\n                  type="button"\n                >\n                  Сохранить\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="moderation-pop-up__spollers-inner">\n      <button\n        class="moderation-pop-up__spoller moderation-pop-up__spoller--rigth blue-btn _spoller"\n        type="button"\n      >\n        SL.news\n        <svg width="19" height="18">\n          <use xlink:href="images/icons/post-card/sprite.svg#shevron"></use>\n        </svg>\n      </button>\n      <div class="moderation-pop-up__settings moderation-settings">\n        <div class="moderation-settings__wrap">\n          <div class="moderation-settings__inner">\n            <div class="moderation-settings__row">\n              <label class="moderation-settings__title">Заголовок:</label>\n              <textarea\n                class="moderation-settings__heading custom-scrollbar js-textarea-auto-height"\n                maxlength="300"\n                type="text"\n                name="#"\n              >\nЧто интересного рассказал Потанин?</textarea\n              >\n            </div>\n            <div class="moderation-settings__row">\n              <div class="moderation-settings__check-row">\n                <label class="custom-checkbox">\n                  <input type="checkbox" class="custom-checkbox__input" />\n                  <span class="custom-checkbox__text"\n                    >Публикация в новостнике</span\n                  >\n                </label>\n              </div>\n              <div class="moderation-settings__check-row">\n                <label class="custom-checkbox">\n                  <input type="checkbox" class="custom-checkbox__input" />\n                  <span class="custom-checkbox__text">Красной строкой</span>\n                </label>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <div class="custom-select">\n                <button\n                  class="custom-select__main-btn"\n                  value="Россия"\n                  name="#"\n                  type="button"\n                >\n                  Россия\n                </button>\n                <div class="custom-select__list">\n                  <button\n                    class="custom-select__option custom-select__option--active"\n                    value="Россия"\n                    type="button"\n                  >\n                    Россия\n                  </button>\n                  <button\n                    class="custom-select__option"\n                    value="США"\n                    type="button"\n                  >\n                    США\n                  </button>\n                  <button\n                    class="custom-select__option"\n                    value="Евросоюз"\n                    type="button"\n                  >\n                    Евросоюз\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <div class="custom-select">\n                <button\n                  class="custom-select__main-btn"\n                  value="Новость"\n                  name="#"\n                  type="button"\n                >\n                  Новость\n                </button>\n                <div class="custom-select__list">\n                  <button\n                    class="custom-select__option custom-select__option--active"\n                    value="Новость"\n                    type="button"\n                  >\n                    Новость\n                  </button>\n                  <button\n                    class="custom-select__option"\n                    value="Обзор"\n                    type="button"\n                  >\n                    Обзор\n                  </button>\n                  <button\n                    class="custom-select__option"\n                    value="Статья"\n                    type="button"\n                  >\n                    Статья\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class="moderation-settings__row">\n              <button\n                class="moderation-pop-up__save-setting moderation-pop-up__save-setting--wide blue-btn"\n                type="button"\n              >\n                Сохранить\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="moderation-pop-up__extra-tags">\n    <div class="moderation-pop-up__title">Экстра-теги:</div>\n    <div class="moderation-pop-up__extra-tags-inner">\n      \x3c!-- Модификатор .blue-btn--active  для выделения более темным цветом --\x3e\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn" type="button">STK</button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn blue-btn--not-selected" type="button">\n          BND\n        </button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn" type="button">OPT</button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn blue-btn--not-selected" type="button">\n          ALG\n        </button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn blue-btn--not-selected" type="button">\n          BNK\n        </button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn" type="button">BRK</button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn" type="button">SFT</button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn blue-btn--not-selected" type="button">\n          TRD\n        </button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn blue-btn--not-selected" type="button">\n          FX\n        </button>\n      </div>\n      <div class="moderation-pop-up__tag">\n        <button class="blue-btn blue-btn--not-selected" type="button">\n          CRY\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="moderation-pop-up__column">\n  <div class="moderation-pop-up__tags">\n    <div class="moderation-pop-up__title">Tеги:</div>\n    <div class="moderation-pop-up__tags-inner">\n      <span class="post-tag post-tag--with-btn">\n        инвесторам\n        <button class="post-tag__btn" type="button"></button>\n      </span>\n      <span class="post-tag post-tag--with-btn">\n        инвестиции\n        <button class="post-tag__btn" type="button"></button>\n      </span>\n      <span class="post-tag post-tag--with-btn">\n        дивиденды\n        <button class="post-tag__btn" type="button"></button>\n      </span>\n    </div>\n    <div class="moderation-pop-up__search-wrapper" id="tag-search-wrapper">\n      <input\n        type="text"\n        class="moderation-pop-up__search search-field-with-icon"\n        placeholder="Поиск"\n        autocomplete="off"\n      />\n    </div>\n    <div class="moderation-pop-up__tags-inner">\n      \x3c!-- Есть модификатор .post-label--active для выделения более темным цветом --\x3e\n      <span class="post-label post-label--with-btn">\n        дивиденды\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--not-selected">\n        отчеты МСФО\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--not-selected">\n        отчеты РСБУ\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--not-selected">\n        операционные результаты\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--not-selected">\n        технический анализ\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--not-selected">\n        прогноз по акциям\n        <button class="post-label__btn" type="button"></button>\n      </span>\n    </div>\n  </div>\n  <div class="moderation-pop-up__companies">\n    <div class="moderation-pop-up__title">Привязать форум:</div>\n    <div class="moderation-pop-up__search-wrapper" id="comp-search-wrapper">\n      <input\n        type="text"\n        class="moderation-pop-up__search search-field-with-icon"\n        placeholder="Поиск"\n        autocomplete="off"\n      />\n    </div>\n    <div class="moderation-pop-up__tags-inner">\n      <span class="post-label post-label--with-btn">\n        <svg width="14" height="14">\n          <use xlink:href="images/icons/post-card/sprite.svg#mass"></use>\n        </svg>\n        ГМК Норникель\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--with-btn">\n        <svg width="14" height="14">\n          <use xlink:href="images/icons/post-card/sprite.svg#mass"></use>\n        </svg>\n        Росбанк\n        <button class="post-label__btn" type="button"></button>\n      </span>\n      <span class="post-label post-label--with-btn">\n        <svg width="14" height="14">\n          <use xlink:href="images/icons/post-card/sprite.svg#mass"></use>\n        </svg>\n        Северсталь\n        <button class="post-label__btn" type="button"></button>\n      </span>\n    </div>\n  </div>\n</div>\n',onConfirm:function(){},onOpen:function(){adminPanelInit(this.dialog)},onClose:function(){unBlockOverflow()}}),premiumAdmin=new ConfirmDialog({class:"premium-popup",title:"Авторизация",content:'\x3c!-- <div class="warning-popup__text">\n  <label for="premium_amdin_user">Логин или EMail:</label>\n  <div class="user_searchbox">\n    <input\n      id="premium_amdin_user"\n      class="custom-input"\n      type="text"\n      name="user"\n      autocomplete="off"\n    />\n    <input type="hidden" name="user_id" />\n    <input id="premium_amdin_user_find" type="button" value="найти" />\n  </div>\n  <div class="user_searchbox_results">\n    <div\n      class="autocomplete-suggestions"\n      style="\n        position: absolute;\n        display: none;\n        max-height: 300px;\n        z-index: 99999;\n      "\n    ></div>\n  </div>\n  <div>\n    <div class="hider">Пользователь не найден</div>\n    <div class="applyer">\n      <table>\n        <tbody>\n          <tr>\n            <td>ID:</td>\n            <td id="user_id"></td>\n          </tr>\n          <tr>\n            <td>Регистрация:</td>\n            <td id="registration_dt"></td>\n          </tr>\n          <tr>\n            <td>Активация:</td>\n            <td id="activation_dt"></td>\n          </tr>\n          <tr>\n            <td>Премиум до:</td>\n            <td id="premium_until_dt"></td>\n          </tr>\n          <tr>\n            <td style="vertical-align: top">Выдать премиум:</td>\n            <td>\n              <select id="premium_interval">\n                <option value="">---</option>\n                <option value="month">на месяц</option>\n                <option value="half">на пол года</option>\n                <option value="year">на год</option>\n                <option value="date">точная дата</option>\n                <option value="cancel">отменить подписку</option>\n              </select>\n              <span id="premium_until_dt_hider"\n                >до\n                <input\n                  type="text"\n                  class="custom-input"\n                  name="premium_until_dt"\n                />\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div> --\x3e\n\n<div class="warning-popup__text">\n  <label for="premium_amdin_user">Логин или EMail:</label>\n  <div class="user_searchbox">\n    <input\n      id="premium_amdin_user"\n      class="custom-input"\n      type="text"\n      name="user"\n      autocomplete="off"\n    />\n    <input type="hidden" name="user_id" value="10525" />\n    <input id="premium_amdin_user_find" type="button" value="найти" />\n  </div>\n  <div class="user_searchbox_results">\n    <div\n      class="autocomplete-suggestions"\n      style="\n        position: absolute;\n        display: none;\n        max-height: 300px;\n        z-index: 99999;\n      "\n    ></div>\n  </div>\n  <div>\n    <div class="hider" style="display: none">Пользователь не найден</div>\n    <div class="applyer" style="display: block">\n      <table>\n        <tbody>\n          <tr>\n            <td>ID:</td>\n            <td id="user_id"><a href="/profile/timmartynov/">10525</a></td>\n          </tr>\n          <tr>\n            <td>Регистрация:</td>\n            <td id="registration_dt">30.07.2012</td>\n          </tr>\n          <tr>\n            <td>Активация:</td>\n            <td id="activation_dt">30.07.2012</td>\n          </tr>\n          <tr>\n            <td>Премиум до:</td>\n            <td id="premium_until_dt" class="bad">Дата не задана</td>\n          </tr>\n          <tr>\n            <td style="vertical-align: top">Выдать премиум:</td>\n            <td>\n              <select id="premium_interval">\n                <option value="">---</option>\n                <option value="month">на месяц</option>\n                <option value="half">на пол года</option>\n                <option value="year">на год</option>\n                <option value="date">точная дата</option>\n                <option value="cancel">отменить подписку</option>\n              </select>\n              <span id="premium_until_dt_hider" style="display: none"\n                >до\n                <input\n                  type="text"\n                  class="custom-input"\n                  name="premium_until_dt"\n                />\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n',onConfirm:function(){this.close()},onOpen:function(){},onClose:function(){unBlockOverflow()}});function adminPanelInit(n){if(console.log($("#tag-search-wrapper input")),initSpollers(n.querySelectorAll("._spollers")),"function"==typeof IntersectionObserver){let t=new IntersectionObserver(((n,t)=>{n.forEach((n=>{n.isIntersecting||n.target.scrollIntoView()}))}));n.addEventListener("focus",(function(n){n.target.matches("textarea, input")&&setTimeout((()=>{t.observe(n.target)}),100)}),!1)}n.addEventListener("click",(function(t){t.target.matches("._spoller")&&n.querySelectorAll(".js-textarea-auto-height").forEach((n=>{n.dispatchEvent(new Event("input"))}))}),!1),n.addEventListener("keyup",(n=>{!function(n){if(!n.target.matches(".moderation-pop-up__search"))return;const t=n.target.closest(".moderation-pop-up");t.querySelector(".moderation-pop-up__body").style.height=t.scrollHeight+e+"px",e=0}(n)}),!1);const t=document.querySelector(".moderation-pop-up__body");var e=0;t&&(e=+window.getComputedStyle(t).paddingBottom.slice(0,-2)),n=$(n);let o=window.autocompleterResponse,s="menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes,target=_blank";n.find("#tag-search-wrapper input").autocomplete({lookup:o,appendTo:n.find("#tag-search-wrapper"),maxHeight:"300",onSelect:function(n){window.open(n.data,"WindowName",s),this.value=""},beforeRender:function(n,t){window.menuSlideDown(n)}}),n.find("#comp-search-wrapper input").autocomplete({lookup:o,appendTo:n.find("#comp-search-wrapper"),maxHeight:"300",onSelect:function(n){window.open(n.data,"WindowName",s),this.value=""},beforeRender:function(n,t){window.menuSlideDown(n)}})}$(document).on("click","#login_btn",(function(){$(".header__usermenu").removeClass("_open"),loginPopUp.open()})).on("click","#premium-admin",(function(){premiumAdmin.open()})).on("click",".admin",(function(){moderationPopUp.open()})).on("click",".js-del-comment-warning-popup-opener",(function(){Confirm("Вы действительно хотите удалить комментарий?","Внимание","Удалить")}));