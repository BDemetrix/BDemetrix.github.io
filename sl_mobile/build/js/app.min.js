let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?document.body.classList.add("_touch"):document.body.classList.remove("_touch");const bodyGlobal=document.querySelector("body"),scrollWidth=window.innerWidth-document.documentElement.clientWidth;function blockOverflow(){bodyGlobal.style.overflow="hidden",bodyGlobal.style.touchAction="none",isMobile.any()||(bodyGlobal.style.paddingRight=scrollWidth+"px")}function unBlockOverflow(){setTimeout((()=>{bodyGlobal.style.overflow="",bodyGlobal.style.touchAction="",bodyGlobal.style.paddingRight="",console.log("unBlockOverflow")}),400)}function toggleOverflow(){"hidden"!=window.getComputedStyle(bodyGlobal).overflow?blockOverflow():unBlockOverflow()}function initSpollers(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach((e=>{let t=!0;const o=e.dataset.spollerMaxwidth,s=e.classList.contains("_one");let n=e.querySelectorAll("._spoller");n.length&&n.forEach(((e,n,l)=>{e.addEventListener("click",(function(){if(t){if(t=!1,o&&window.innerWidth>o)return!1;s&&l.forEach((t=>{t!=e&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,400))})),e.classList.toggle("_active"),_slideToggle(e.nextElementSibling,400),setTimeout((function(){t=!0}),400)}}))}))}))}function clearSpollersStyle(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach((e=>{const t=e.dataset.spollerMaxwidth;if(t&&window.innerWidth>t){let t=e.querySelectorAll("._spoller");t.length&&t.forEach((e=>{e.classList.remove("_active"),e.nextElementSibling.style.display=""}))}}))}initSpollers(),window.addEventListener("resize",clearSpollersStyle);let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function plugSimpleBar(e){let t;if("string"==typeof e)t=document.querySelector(e);else{if("object"!=typeof e)return;t=e}if(t)try{return new SimpleBar(t)}catch{t.style.ovetflowY="auto"}}function closeAllOpenedMenu(){document.querySelectorAll("._open").forEach((e=>e.classList.remove("_open")))}document.documentElement.addEventListener("click",(e=>{setTimeout((()=>{e.target.closest("._open")||(closeAllOpenedMenu(),unBlockOverflow())}),10)}));let activeHeadersEls=document.querySelectorAll("._active-el");activeHeadersEls.forEach((e=>{e.addEventListener("click",(()=>{e.parentElement.classList.contains("_open")||closeAllOpenedMenu(),e.parentElement.classList.toggle("_open")}))}));let inputArr=document.querySelectorAll("._input");inputArr.length&&inputArr.forEach((e=>{e.addEventListener("focus",(()=>{e.parentElement.classList.add("_focus")})),e.addEventListener("blur",(()=>{e.parentElement.classList.remove("_focus")})),e.addEventListener("change",(()=>{e.value?e.parentElement.classList.add("_filled"):e.parentElement.classList.remove("_filled")}))}));let tabs=document.querySelectorAll("._tabs");for(let e=0;e<tabs.length;e++){let t=tabs[e],o=t.querySelectorAll("._tabs-item"),s=t.querySelectorAll("._tabs-block");for(let n=0;n<o.length;n++){let l=o[n];l.addEventListener("click",(function(e){for(let e=0;e<o.length;e++){o[e].classList.remove("_active"),s[e].classList.remove("_active")}l.classList.add("_active"),s[n].classList.add("_active"),e.preventDefault()}))}}const popUpMenu=document.querySelectorAll(".context-menu");if(popUpMenu.length){function popUpMenuCorrectPos(e){if(!e)return;popUpMenuCleartPos(e);const t=e.querySelector("ul");if(!t)return;let o=e.getBoundingClientRect().left,s=e.getBoundingClientRect().right,n=t.getBoundingClientRect().left-5,l=document.documentElement.clientWidth-t.getBoundingClientRect().right-5;n<0&&(document.documentElement.clientWidth-o-5>=t.offsetWidth?t.style.left="0":t.style.right=n+"px"),l<0&&(s-5>=t.offsetWidth?t.style.right="0":t.style.left=l+"px")}function popUpMenuCleartPos(e){const t=e.querySelector("ul");t&&(t.style.left=t.style.right="")}document.documentElement.addEventListener("click",(function(e){if(e.target.closest(".context-menu > button, .context-menu > a")){let t=e.target.closest(".context-menu");t&&(t.classList.contains("_open")||closeAllOpenedMenu(),popUpMenuCorrectPos(t),t.classList.toggle("_open"))}else{let e=document.querySelector(".context-menu._open");e&&e.classList.remove("_open")}}),!1),window.addEventListener("resize",(()=>{popUpMenu.forEach((e=>{popUpMenuCleartPos(e),popUpMenuCorrectPos(e)}))}))}const textareaAutoHeight=document.querySelectorAll(".js-textarea-auto-height");textareaAutoHeight.length&&(textareaAutoHeight.forEach((e=>{e.addEventListener("input",(function(){this.style.height="",this.style.height=this.scrollHeight+2+"px"})),e.getBoundingClientRect().height<e.scrollHeight&&(e.style.height=e.scrollHeight+2+"px")})),window.addEventListener("resize",(()=>{textareaAutoHeight.forEach((e=>{e.dispatchEvent(new Event("input"))}))})));const fieldFocus=document.querySelectorAll(".js-focus");fieldFocus.length&&fieldFocus.forEach((e=>{e.addEventListener("focus",(function(){this.parentElement.classList.add("_focus")})),e.addEventListener("blur",(function(){this.parentElement.classList.remove("_focus")}))}));let arrowToTop=document.querySelector(".arrow-to-top");arrowToTop&&(window.addEventListener("scroll",(()=>{arrowToTop.classList.toggle("arrow-to-top--visible",window.scrollY>250)})),arrowToTop.addEventListener("click",(()=>{window.scrollTo(0,0)})));let customPopUps=document.querySelectorAll(".custom-pop-up");customPopUps&&customPopUps.length&&customPopUps.forEach((e=>{document.body.append(e)}));let closeCustomPopUpsBtns=document.querySelectorAll(".custom-pop-up__close, .custom-pop-up__cover");closeCustomPopUpsBtns&&closeCustomPopUpsBtns.length&&closeCustomPopUpsBtns.forEach((e=>{e.addEventListener("click",(()=>{e.closest(".custom-pop-up").classList.remove("_open"),e.dispatchEvent(new Event("close-custom-pop-up",{bubbles:!0,cancelable:!1}))}))}));const jsPopUpOpener=document.querySelectorAll(".js-pop-up-opener");jsPopUpOpener&&jsPopUpOpener.forEach((e=>{const t=document.getElementById(e.dataset.targetId);t&&e.addEventListener("click",(()=>{t.classList.add("_open"),e.classList.add("_open"),blockOverflow()}))}));let mainHeader=document.querySelector("header.header"),headerMenuBody=document.querySelector(".header .menu__body"),mainMenuSimpleBar=plugSimpleBar(".header .menu__body");mainMenuSimpleBar.recalculate(),window.addEventListener("resize",(()=>{mainMenuSimpleBar&&mainMenuSimpleBar.recalculate()}));const mainMenuBtn=document.getElementById("main-menu-btn");mainMenuBtn&&mainMenuBtn.addEventListener("click",(e=>{e.target.closest("._open")?blockOverflow():unBlockOverflow()}));let alphabet=document.querySelector(".alphabet"),searchInput=document.querySelector(".query-search__input");searchInput&&(searchInput.addEventListener("focus",(()=>{searchInput.classList.add("_focus"),searchInput.parentElement.classList.add("_focus"),alphabet.classList.add("_show")})),searchInput.addEventListener("blur",(()=>{const e=searchInput.parentElement;setTimeout((()=>{alphabet.classList.remove("_show"),searchInput.classList.remove("_focus"),e.classList.remove("_focus"),searchInput.value=""}),200)})));let searchIcon=document.querySelector(".query-search__icon");searchIcon&&searchIcon.addEventListener("click",(()=>{searchInput.focus()}));let arrowInputBtn=document.querySelector(".query-search__input-arrow");arrowInputBtn&&arrowInputBtn.addEventListener("click",(()=>{setTimeout((()=>{searchInput.focus()}),210)}),!1);let categoriesSlider,notifySimpleBar=plugSimpleBar("#notify-body"),now=new Date,slideDate=document.querySelector(".slide-content__date");slideDate&&(slideDate.textContent=`${now.getDate()}.${now.getMonth()<9?"0"+(now.getMonth()+1):now.getMonth()+1}.${now.getFullYear()}`);const categoriesSliderBbody=document.querySelector(".categories-slider__body");let contentSlider;categoriesSliderBbody&&(categoriesSliderBbody.classList.remove("categories-slider__body--loading"),categoriesSlider=new Swiper(categoriesSliderBbody,{slidesPerView:"auto",spaceBetween:32,speed:400,observer:!0,resizeObserver:!0,watchOverflow:!0,mousewheel:{releaseOnEdges:!0}}));const contentSliderBbody=document.querySelector(".content-slider__body");categoriesSliderBbody&&(categoriesSliderBbody.classList.remove("content-slider__body--loading"),contentSlider=new Swiper(contentSliderBbody,{thumbs:{swiper:categoriesSlider},slidesPerView:1,speed:400,simulateTouch:!0,observer:!0,resizeObserver:!0,watchOverflow:!0}));const sectionsBoxSlider=new Swiper(".sections-box",{speed:400,slidesPerView:"auto",watchOverflow:!0,observer:!0,resizeObserver:!0}),forumsSlider=new Swiper(".forums-slider",{speed:400,autoplay:{delay:3e3},loop:!0,watchOverflow:!0,observer:!0,resizeObserver:!0,spaceBetween:20,breakpoints:{280:{slidesPerView:3.5},320:{slidesPerView:4.5},430:{slidesPerView:5.5},540:{slidesPerView:6.5},650:{slidesPerView:7.5},760:{slidesPerView:8.5}}});!function(){const e=document.querySelector("#moderation-pop-up");if(e){window.addEventListener("close-custom-pop-up",(()=>{const t=e.querySelector("._spoller._active");t&&t.click()}));const t=e.querySelectorAll("textarea, input"),o="function"==typeof window.IntersectionObserver;if(t&&o){let e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting||e.element.scrollIntoView()}))}));t.forEach((t=>{t.addEventListener("focus",(()=>{setTimeout((()=>{e.observe(t)}),100)}))}))}const s=e.querySelectorAll(".js-textarea-auto-height"),n=e.querySelectorAll("._spoller");n&&n.forEach((e=>{e.addEventListener("click",(()=>{s.forEach((e=>{e.dispatchEvent(new Event("input"))}))}))}))}}();class CustomSelect{constructor(e){if(!e||"object"!=typeof e)throw console.log(this.$el),`Некорректный аргумент класса CustomSelect". Ожидается объект DOM вместо ${this.$el}`;this.$el=e,this._init()}_init(){this.$mainBtn=this.$el.querySelector(".custom-select__main-btn"),this.$options=this.$el.querySelectorAll(".custom-select__option"),this.active=this.$el.querySelector(".custom-select__option--active");for(const e in this)if(!this[e])throw console.log(this),`Ошибка инициализации CustomSelect, не установлено поле ${e}`;this.$mainBtn.addEventListener("click",(()=>{this.$el.classList.toggle("custom-select--opened")})),document.documentElement.addEventListener("click",(e=>{e.target.closest(".custom-select__main-btn")!=this.$mainBtn&&this.$el.classList.remove("custom-select--opened")})),this.$options.forEach((e=>{e.addEventListener("click",(()=>{this._change(e),this.$el.classList.remove("custom-select--opened")}))})),this._sync()}_change(e){this.$mainBtn.textContent=this.$mainBtn.value=e.value,this.active.classList.remove("custom-select__option--active"),e.classList.add("custom-select__option--active"),this.active=e}_sync(){const e=this.$el.querySelector(".custom-select__option--active");e?(this._change(e),this.active=e):(option=Array.from(this.$options).filter((e=>e.value===this.$mainBtn.value))[0],option&&option.classList.add("custom-select__option--active"))}}class CustomSelectAll{constructor(){if(this.$els=document.querySelectorAll(".custom-select"),console.log(this.$els),!this.$els||!this.$els.length)throw'Элементы с классом ".custom-select" на странице не найдены.';this.$els.forEach((e=>{e=new CustomSelect(e)}))}}const customSelectAll=new CustomSelectAll;