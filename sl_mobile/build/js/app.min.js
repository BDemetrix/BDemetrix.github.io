let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?document.body.classList.add("_touch"):document.body.classList.remove("_touch");const bodyGlobal=document.querySelector("body"),scrollWidth=window.innerWidth-document.documentElement.clientWidth;function blockOverflow(){bodyGlobal.style.overflow="hidden",bodyGlobal.style.touchAction="none",isMobile.any()||(bodyGlobal.style.paddingRight=scrollWidth+"px")}function unBlockOverflow(e=400){bodyGlobal.style.overflow="",bodyGlobal.style.touchAction="",bodyGlobal.style.paddingRight="",console.log("unBlockOverflow")}function toggleOverflow(){"hidden"!=window.getComputedStyle(bodyGlobal).overflow?blockOverflow():unBlockOverflow()}function initSpollers(e){e.length&&e.forEach((e=>{let t=!0;const o=e.dataset.spollerMaxwidth,n=e.classList.contains("_one");let r=e.querySelectorAll("._spoller");r.length&&r.forEach(((e,r,l)=>{e.addEventListener("click",(function(){if(t){if(t=!1,o&&window.innerWidth>o)return!1;n&&l.forEach((t=>{t!=e&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,400))})),e.classList.toggle("_active"),_slideToggle(e.nextElementSibling,400),setTimeout((function(){t=!0}),400)}}))}))}))}function clearSpollersStyle(){let e=document.querySelectorAll("._spollers");e.length&&e.forEach((e=>{const t=e.dataset.spollerMaxwidth;if(t&&window.innerWidth>t){let t=e.querySelectorAll("._spoller");t.length&&t.forEach((e=>{e.classList.remove("_active"),e.nextElementSibling.style.display=""}))}}))}initSpollers(document.querySelectorAll("._spollers")),window.addEventListener("resize",clearSpollersStyle);let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding, opacity",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.style.opacity=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("opacity"),e.classList.remove("_slide")}),t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding, opacity",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.opacity=1,e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("opacity"),e.classList.remove("_slide")}),t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function plugSimpleBar(e){let t;if("string"==typeof e)t=document.querySelector(e);else{if("object"!=typeof e)return;t=e}if(t)try{return new SimpleBar(t)}catch{t.style.ovetflowY="auto"}}function closeAllOpenedMenu(){document.querySelectorAll("._open").forEach((e=>e.classList.remove("_open")))}document.documentElement.addEventListener("click",(e=>{e.target.closest("body")&&!e.target.closest("._open")&&(closeAllOpenedMenu(),unBlockOverflow())}));let activeHeadersEls=document.querySelectorAll("._active-el");activeHeadersEls.forEach((e=>{e.addEventListener("click",(()=>{e.parentElement.classList.contains("_open")||closeAllOpenedMenu(),e.parentElement.classList.toggle("_open")}))}));let inputArr=document.querySelectorAll("._input");inputArr.length&&inputArr.forEach((e=>{e.addEventListener("focus",(()=>{e.parentElement.classList.add("_focus")})),e.addEventListener("blur",(()=>{e.parentElement.classList.remove("_focus")})),e.addEventListener("change",(()=>{e.value?e.parentElement.classList.add("_filled"):e.parentElement.classList.remove("_filled")}))}));let tabs=document.querySelectorAll("._tabs");for(let e=0;e<tabs.length;e++){let t=tabs[e],o=t.querySelectorAll("._tabs-item"),n=t.querySelectorAll("._tabs-block");for(let r=0;r<o.length;r++){let l=o[r];l.addEventListener("click",(function(e){for(let e=0;e<o.length;e++){o[e].classList.remove("_active"),n[e].classList.remove("_active")}l.classList.add("_active"),n[r].classList.add("_active"),e.preventDefault()}))}}const popUpMenu=document.querySelectorAll(".context-menu");if(popUpMenu.length){function popUpMenuCorrectPos(e){if(!e)return;popUpMenuCleartPos(e);const t=e.querySelector("ul");if(!t)return;let o=e.getBoundingClientRect().left,n=e.getBoundingClientRect().right,r=t.getBoundingClientRect().left-5,l=document.documentElement.clientWidth-t.getBoundingClientRect().right-5;r<0&&(document.documentElement.clientWidth-o-5>=t.offsetWidth?t.style.left="0":t.style.right=r+"px"),l<0&&(n-5>=t.offsetWidth?t.style.right="0":t.style.left=l+"px")}function popUpMenuCleartPos(e){const t=e.querySelector("ul");t&&(t.style.left=t.style.right="")}document.documentElement.addEventListener("click",(function(e){if(e.target.closest(".context-menu > button, .context-menu > a")){let t=e.target.closest(".context-menu");t&&(t.classList.contains("_open")||closeAllOpenedMenu(),popUpMenuCorrectPos(t),t.classList.toggle("_open"))}else{let e=document.querySelector(".context-menu._open");e&&e.classList.remove("_open")}}),!1),window.addEventListener("resize",(()=>{popUpMenu.forEach((e=>{popUpMenuCleartPos(e),popUpMenuCorrectPos(e)}))}))}document.documentElement.addEventListener("input",(function(e){e.target.matches(".js-textarea-auto-height")&&(e.target.style.height="",e.target.style.height=e.target.scrollHeight+2+"px")}),!0);const textareaAutoHeight=document.querySelectorAll(".js-textarea-auto-height");textareaAutoHeight.forEach((e=>{e.getBoundingClientRect().height<e.scrollHeight&&(e.style.height=e.scrollHeight+2+"px")})),window.addEventListener("resize",(function(e){document.querySelectorAll(".js-textarea-auto-height").forEach((e=>{e.dispatchEvent(new Event("input"))}))}),!1);const fieldFocus=document.querySelectorAll(".js-focus");fieldFocus.length&&fieldFocus.forEach((e=>{e.addEventListener("focus",(function(){this.parentElement.classList.add("_focus")})),e.addEventListener("blur",(function(){this.parentElement.classList.remove("_focus")}))}));let arrowToTop=document.querySelector(".arrow-to-top");function numOnly(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||13==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}arrowToTop&&(window.addEventListener("scroll",(()=>{arrowToTop.classList.toggle("arrow-to-top--visible",window.scrollY>250)})),arrowToTop.addEventListener("click",(()=>{window.scrollTo(0,0)})));let mainHeader=document.querySelector("header.header"),headerMenuBody=document.querySelector(".header .menu__body"),mainMenuSimpleBar=plugSimpleBar(".header .menu__body");mainMenuSimpleBar.recalculate(),window.addEventListener("resize",(()=>{mainMenuSimpleBar&&mainMenuSimpleBar.recalculate()}));const mainMenuBtn=document.getElementById("main-menu-btn");mainMenuBtn&&mainMenuBtn.addEventListener("click",(e=>{e.target.closest("._open")?blockOverflow():unBlockOverflow()}));let alphabet=document.querySelector(".alphabet"),searchInput=document.querySelector(".query-search__input");searchInput&&(searchInput.addEventListener("focus",(()=>{searchInput.classList.add("_focus"),searchInput.parentElement.classList.add("_focus"),alphabet&&alphabet.classList.add("_show")})),searchInput.addEventListener("blur",(()=>{const e=searchInput.parentElement;setTimeout((()=>{alphabet&&alphabet.classList.remove("_show"),searchInput.classList.remove("_focus"),e.classList.remove("_focus"),searchInput.value=""}),200)})));let searchIcon=document.querySelector(".query-search__icon");searchIcon&&searchIcon.addEventListener("click",(()=>{searchInput.focus()}));let arrowInputBtn=document.querySelector(".query-search__input-arrow");arrowInputBtn&&arrowInputBtn.addEventListener("click",(()=>{setTimeout((()=>{searchInput.focus()}),210)}),!1);let notifySimpleBar=plugSimpleBar("#notify-body");const darkTheme=document.querySelector(".js-dark-theme");if(darkTheme){const s=!!window.localStorage.getItem("darkTheme");darkTheme.checked=s,document.body.classList.toggle("dark-theme",s),darkTheme.addEventListener("change",(()=>{document.body.classList.toggle("dark-theme"),window.localStorage.setItem("darkTheme",darkTheme.checked?"1":"")}))}let categoriesSlider,now=new Date,slideDate=document.querySelector(".slide-content__date");slideDate&&(slideDate.textContent=`${now.getDate()}.${now.getMonth()<9?"0"+(now.getMonth()+1):now.getMonth()+1}.${now.getFullYear()}`);const categoriesSliderBbody=document.querySelector(".categories-slider__body");let contentSlider;categoriesSliderBbody&&(categoriesSliderBbody.classList.remove("categories-slider__body--loading"),categoriesSlider=new Swiper(categoriesSliderBbody,{slidesPerView:"auto",spaceBetween:32,speed:400,observer:!0,resizeObserver:!0,watchOverflow:!0,mousewheel:{releaseOnEdges:!0}}));const contentSliderBbody=document.querySelector(".content-slider__body");categoriesSliderBbody&&(categoriesSliderBbody.classList.remove("content-slider__body--loading"),contentSlider=new Swiper(contentSliderBbody,{thumbs:{swiper:categoriesSlider},slidesPerView:1,speed:400,simulateTouch:!0,observer:!0,resizeObserver:!0,watchOverflow:!0})),function(){const e=document.querySelector(".sections-box__swiper");if(!e)return;e.parentElement.classList.remove("_loading");const t=Array.from(e.querySelectorAll(".sections-box__item")),o=t.findIndex((e=>e.classList.contains("sections-box__item--active"))),n=new Swiper(e,{slidesPerView:"auto",watchOverflow:!0,observer:!0,resizeObserver:!0,freeMode:{enabled:!1},speed:300,navigation:{nextEl:".sections-box__next",prevEl:".sections-box__prev"}});n.slideTo(o),t.forEach(((e,t,o)=>{e.addEventListener("click",(()=>{o.forEach((e=>{e.classList.remove("sections-box__item--active")})),e.classList.add("sections-box__item--active"),n.slideTo(t);const r=e.querySelector("a");n.isLocked&&r&&(console.log("selectorLinksSlider.isLocked = ",n.isLocked),window.location=r.href)}))}))}();const forumsSlider=new Swiper(".forums-slider",{speed:400,autoplay:{delay:3e3},loop:!0,watchOverflow:!0,observer:!0,resizeObserver:!0,spaceBetween:20,breakpoints:{280:{slidesPerView:3.5},320:{slidesPerView:4.5},430:{slidesPerView:5.5},540:{slidesPerView:6.5},650:{slidesPerView:7.5},760:{slidesPerView:8.5}}});!function(){const e=".custom-select";function t(t){document.querySelectorAll(e).forEach((function(e){e!=t&&e.classList.remove("custom-select--opened")}))}document.documentElement.addEventListener("click",(function(o){const n=o.target.closest(e);if(!n)return t(null);if(o.target.closest(".custom-select__main-btn"))n.classList.toggle("custom-select--opened"),t(n);else if(nOption=o.target.closest(".custom-select__option")){const e=n.querySelector(".custom-select__main-btn");e&&(e.value=nOption.value),n.classList.remove("custom-select--opened"),e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!1}))}}),!1),document.documentElement.addEventListener("sync",(function(t){if(!t.target.matches(e))return;const o=t.target,n=o.querySelector(".custom-select__main-btn");if(n){const e=o.querySelector(".custom-select__option--active");if(e)n.textContent=e.textContent,n.value=e.value;else{const e=o.querySelector('.custom-select__option[value="'+n.value+'"]');e&&e.classList.add("custom-select__option--active")}Object.defineProperty(n,"value",{set:function(e){this.setAttribute("value",e);const t=o.querySelector(".custom-select__option--active"),n=o.querySelector('.custom-select__option[value="'+this.value+'"]');t!==n&&(t&&t.classList.remove("custom-select__option--active"),n&&n.classList.add("custom-select__option--active"),this.textContent=n?n.textContent:"")},get:function(){return this.getAttribute("value")}})}}),!1),document.querySelectorAll(e).forEach((function(e){e.dispatchEvent(new Event("sync",{bubbles:!0,cancelable:!1}))})),"function"==typeof MutationObserver&&new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.forEach((function(t){if(t.matches&&t.matches(e))t.dispatchEvent(new Event("sync",{bubbles:!0,cancelable:!1}));else if(t.querySelectorAll){const o=t.querySelectorAll(e);o.length&&o.forEach((function(e){e.dispatchEvent(new Event("sync",{bubbles:!0,cancelable:!1}))}))}}))}))})).observe(document.documentElement,{childList:!0,subtree:!0})}(),function(){const e=document.querySelector(".js-nf-filter-btn"),t=document.querySelector(".js-nf-filter-body");e&&t&&e.addEventListener("click",(()=>{_slideToggle(t,300)}))}(),function(){const e=document.querySelector(".js-news-feed-list");if(!e)return;function t(e){e.querySelectorAll(".js-news-card-author").forEach((e=>{const t=e.parentElement,o=t.querySelector(".js-news-card-date");if(o){const n=t.offsetWidth,r=o.offsetWidth;e.style.maxWidth=n-r+"px"}else e.style.maxWidth="100%"}))}if(document.documentElement.addEventListener("click",(e=>{const t=e.target.closest(".js-news-card-author");t&&(e.preventDefault(),window.location.href=t.dataset.href)})),t(e),window.addEventListener("resize",(()=>{t(e)}),!1),window.addEventListener("orientationchange",(()=>{t(e)}),!1),!window.hasOwnProperty("MutationObserver"))return;new MutationObserver((o=>{o.forEach((function(o){o.addedNodes.length&&t(e)}))})).observe(e,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})}(),function(e){e.fn.datepicker.dates.ru={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Убрать дату",weekStart:1},e.fn.datepicker.defaults.format="dd.mm.yyyy",e.fn.datepicker.defaults.language="ru",e.fn.datepicker.defaults.autoclose=!0,e.fn.datepicker.defaults.todayHighlight=!0}(jQuery),function(){const e=document.querySelector(".js-slide-sidebar"),t=document.querySelectorAll(".js-slide-sidebar-toggle-btn");e&&t.length&&t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.toggle("slide-sidebar--opened")}))}))}(),function(){const e=document.querySelector(".quick-comment"),t=document.querySelector(".quick-comment__btn"),o=document.querySelector(".quick-comment__cover"),n=document.querySelector(".quick-comment__send"),r=document.querySelector(".quick-comment__text");e&&t&&o&&n&&r&&(t.addEventListener("click",(()=>{e.classList.add("quick-comment--visible"),r.focus(),blockOverflow()})),o.addEventListener("click",(()=>{e.classList.remove("quick-comment--visible","_open"),unBlockOverflow()})),n.addEventListener("click",(()=>{e.classList.remove("quick-comment--visible","_open"),r.value="",r.style.height="",unBlockOverflow()})))}(),function(){const e=document.querySelector(".js-post-head"),t=document.querySelector(".js-post-head-menu");(e||t)&&e.addEventListener("mouseleave",(()=>{t.classList.remove("_open")}))}(),function(){const e=document.querySelector(".selector-links__slider");if(!e)return;const t=Array.from(e.querySelectorAll(".selector-links__item")),o=t.findIndex((e=>e.classList.contains("._active")));e.parentElement.classList.remove("_loading");const n=new Swiper(e,{slidesPerView:"auto",watchOverflow:!0,observer:!0,resizeObserver:!0,freeMode:{enabled:!0},speed:300,navigation:{nextEl:".selector-links__next",prevEl:".selector-links__prev"}});n.slideTo(o),t.forEach(((e,t,o)=>{e.addEventListener("click",(()=>{o.forEach((e=>{e.classList.remove("_active")})),e.classList.add("_active"),n.slideTo(t);e.querySelector("a")}))}))}(),function(){let e;const t=document.querySelector(".navbar__wrap");t&&(t.parentElement.classList.remove("_loading"),e=new Swiper(t,{slidesPerView:"auto",watchOverflow:!0,freeMode:{enabled:!0,sticky:!0},speed:300,navigation:{nextEl:".navbar__next",prevEl:".navbar__prev"}})),new jBox("Tooltip",{attach:".navbar__drop-item",zIndex:999,adjustPosition:!0,isolateScroll:!1,closeOnMouseleave:!0,animation:"move",addClass:"navbar-jBox",onOpen:function(){let e=this.target[0].nextElementSibling.innerHTML;this.setContent(e)}})}(),setTimeout((()=>{new FlexTable(".trades-table")}),300),function(){plugSimpleBar(".qn-filters__content");document.querySelectorAll(".qn-menu__mob-tabs a").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))}));const e=document.querySelector(".qn-menu__btn--filter"),t=document.querySelector(".qn-filters"),o=document.querySelector(".qn-filters__close");if(e&&t&&o&&(e.addEventListener("click",(t=>{e.parentElement.classList.add("_opened")})),t.addEventListener("click",(e=>{e.target.closest(".qn-filters__content")&&!e.target.closest(".qn-filters__close")||t.closest("._opened").classList.remove("_opened")}))),t){const e=document.querySelector(".qn-filters__content"),o=t.querySelectorAll("input");let n=new Event("change");e&&e.addEventListener("reset",(e=>{o.forEach((e=>{setTimeout((()=>{e.dispatchEvent(n),$.each(r,(function(){this.sumo.unSelectAll(),this.sumo.selectItem(0)})),$("#sector_id")[0].sumo.unSelectAll()}),50)}))}))}$("#sector_id").length&&$("#sector_id").SumoSelect({placeholder:"Все сектора",csvDispCount:2,captionFormat:"Сектора ({0})"});var n,r=$("#country_id, #val_middle_gt, #val_middle_lt, #capitalization_gt, #capitalization_lt, #is_state_owned, #is_exporter, #year, #type, #quarter, #duration_lt_id, #duration_gt_id, #mat_years_lt_id, #mat_years_gt_id, #year_yield_lt_id, #year_yield_gt_id, #ofz_type_id");r.length&&r.SumoSelect(),function(){let e=document.querySelectorAll(".optWrapper");e.length&&e.forEach((e=>{plugSimpleBar(e)}))}(),(n=$(".SumoSelect > .optWrapper.multiple .options li.opt")).length&&(n.append('<button class="radio-sumo-btn" type="button"></button>'),$(".radio-sumo-btn").on("click",(function(e){e.stopPropagation();var t=$(this).closest(".optWrapper");$(this).closest(".SumoSelect").find("select")[0].sumo.unSelectAll(),t.find(".options li.opt").removeClass("selected"),$(this).parent().trigger("click"),$(this).addClass("selected")})),n.on("click",(function(){$(this).closest(".optWrapper").find(".radio-sumo-btn").removeClass("selected")})));let l=[];document.querySelectorAll(".qn-filters__range-slider").forEach((e=>{l.push({target:e,settings:{start:[1,1e3],margin:10,connect:!0,range:{min:[0],max:[1e3]}},wNumbFormat:wNumb({decimals:0,thousand:"",suffix:"М ₽"})})})),l.forEach((e=>function(e){if(!(e&&e.target&&e.settings&&e.wNumbFormat))return void console.log("Плагин NoUiSlider не може быть подключен. function plugNoUiSlider(obj)");let t;if("string"==typeof e.target)t=document.querySelector(e.target);else{if("object"!=typeof e.target)return void console.log("Плагин NoUiSlider не може быть подключен. Не определен целевой объект");t=e.target}if(t){const r=t.parentElement.querySelectorAll("input");function o(){let t=Number(e.wNumbFormat.from(this.value));this.value=e.wNumbFormat.to(t)}function n(){let e=[];r.forEach((t=>e.push(t.value))),t.noUiSlider.set(e)}slider=noUiSlider.create(t,{...e.settings,format:e.wNumbFormat}),r&&(slider.on("slide",(e=>{r.forEach(((t,o)=>{t.value=e[o]}))})),r.forEach((e=>{e.addEventListener("keydown",numOnly),e.addEventListener("blur",o),e.addEventListener("focus",(e=>{e.target.select()})),e.addEventListener("change",n),e.focus(),e.blur()})))}}(e))),setTimeout((()=>{new FlexTable(".trades-table")}),300)}(),new jBox("Tooltip",{theme:"trades-table",attach:".js-trades-table-tooltip",adjustPosition:!0,isolateScroll:!1,animation:"move",position:{x:"center",y:"bottom"},offset:{y:10},maxWidth:250,trigger:"click"});